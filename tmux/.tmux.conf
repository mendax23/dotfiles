# ORE #####
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",xterm-kitty:Tc"
set -g history-limit 100000

##### INPUT / UX #####
setw -g mode-keys vi
set -g mouse on
set -s escape-time 0
set -g renumber-windows on
set -g base-index 1
setw -g pane-base-index 1

##### COPY MODE: stop mouse drag auto-copy/cancel weirdness #####
unbind -T copy-mode-vi MouseDragEnd1Pane
unbind -T copy-mode    MouseDragEnd1Pane
bind -T copy-mode-vi MouseDragEnd1Pane send-keys -X clear-selection \; send-keys -X cancel
bind -T copy-mode    MouseDragEnd1Pane send-keys -X clear-selection \; send-keys -X cancel

##### SYSTEM CLIPBOARD (Wayland first, then X11) #####
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "wl-copy 2>/dev/null || xclip -selection clipboard -in"
bind -T copy-mode    y send-keys -X copy-pipe-and-cancel "wl-copy 2>/dev/null || xclip -selection clipboard -in"

##### RELOAD CONFIG #####
bind r source-file ~/.tmux.conf \; display-message "tmux.conf reloaded"

##### NAMING / TITLES (no kitty coupling) #####
set -g allow-rename off
set -g automatic-rename off
setw -g automatic-rename off
set -g set-titles off

##### STATUS TEXT FORMATS (theme will style) #####
set -g window-status-format " #I:#W "
set -g window-status-current-format " #I:#W "

##### DRACULA CONFIG (MUST BE BEFORE THE PLUGIN LOADS) #####
# What shows on the RIGHT side (order matters)
# Options commonly used: git, network, weather, time, battery, cpu-usage, ram-usage
set -g @dracula-plugins "git time battery cpu-usage ram-usage"

# Time
set -g @dracula-time-format "%H:%M %d.%m.%Y"

# Weather (may require API key)
# set -g @dracula-weather-location "Hanau"
# set -g @dracula-temperature-unit "c"
# set -g @dracula-weather-api-key "YOUR_OPENWEATHER_API_KEY"

# Network: if it shows wrong, either remove "network" from @dracula-plugins
# or force your interface name like "wlp3s0"
# set -g @dracula-network-interface "wlp3s0"

##### PLUGINS (TPM) #####
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'sainnhe/tmux-fzf'
set -g @plugin 'dracula/tmux'

##### FZF MENUS (easy binds) #####
bind f run-shell "~/.tmux/plugins/tmux-fzf/scripts/session.sh switch"
bind w run-shell "~/.tmux/plugins/tmux-fzf/scripts/window.sh switch"
bind p run-shell "~/.tmux/plugins/tmux-fzf/scripts/pane.sh switch"

##### TPM INIT (MUST BE AT BOTTOM) #####
run '~/.tmux/plugins/tpm/tpm'

